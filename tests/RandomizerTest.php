<?php

use ALttP\Randomizer;
use ALttP\Item;

/**
 * These test may have to be updated on any Logic change that adjusts the pooling of the RNG
 */
class RandomizerTest extends TestCase {
	public function setUp() {
		parent::setUp();
		$this->randomizer = new Randomizer('test_rules');
	}

	public function tearDown() {
		parent::tearDown();
		unset($this->randomizer);
	}

	public function testGetSeedIsNullBeforeRandomization() {
		$this->assertNull($this->randomizer->getSeed());
	}

	public function testGetSeedIsNotNullAfterRandomization() {
		$this->randomizer->makeSeed();

		$this->assertNotNull($this->randomizer->getSeed());
	}

	/**
	 * @group crystals
	 */
	public function testCrystalsNotRandomizedByConfigCrossWorld() {
		Config::set('alttp.test_rules.prize.crossWorld', true);
		Config::set('alttp.test_rules.prize.shuffleCrystals', false);

		$this->randomizer->makeSeed(1337);
		$this->assertEquals([
			Item::get('Crystal1'),
			Item::get('Crystal2'),
			Item::get('Crystal3'),
			Item::get('Crystal4'),
			Item::get('Crystal5'),
			Item::get('Crystal6'),
			Item::get('Crystal7'),
		], [
			$this->randomizer->getWorld()->getLocation("Palace of Darkness - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Swamp Palace - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Skull Woods - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Thieves' Town - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Ice Palace - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Misery Mire - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Turtle Rock - Prize")->getItem(),
		]);
	}

	/**
	 * @group crystals
	 */
	public function testCrystalsNotRandomizedByConfigNoCrossWorld() {
		Config::set('alttp.test_rules.prize.crossWorld', false);
		Config::set('alttp.test_rules.prize.shuffleCrystals', false);

		$this->randomizer->makeSeed(1337);

		$this->assertEquals([
			Item::get('Crystal1'),
			Item::get('Crystal2'),
			Item::get('Crystal3'),
			Item::get('Crystal4'),
			Item::get('Crystal5'),
			Item::get('Crystal6'),
			Item::get('Crystal7'),
		], [
			$this->randomizer->getWorld()->getLocation("Palace of Darkness - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Swamp Palace - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Skull Woods - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Thieves' Town - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Ice Palace - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Misery Mire - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Turtle Rock - Prize")->getItem(),
		]);
	}


	/**
	 * @group pendants
	 */
	public function testPendantsNotRandomizedByConfigNoCrossWorld() {
		Config::set('alttp.test_rules.prize.crossWorld', false);
		Config::set('alttp.test_rules.prize.shufflePendants', false);

		$this->randomizer->makeSeed(1337);

		$this->assertEquals([
			Item::get('PendantOfCourage'),
			Item::get('PendantOfPower'),
			Item::get('PendantOfWisdom'),
		], [
			$this->randomizer->getWorld()->getLocation("Eastern Palace - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Desert Palace - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Tower of Hera - Prize")->getItem(),
		]);
	}

	/**
	 * @group pendants
	 */
	public function testPendantsNotRandomizedByConfigCrossWorld() {
		Config::set('alttp.test_rules.prize.crossWorld', true);
		Config::set('alttp.test_rules.prize.shufflePendants', false);

		$this->randomizer->makeSeed(1337);

		$this->assertEquals([
			Item::get('PendantOfCourage'),
			Item::get('PendantOfPower'),
			Item::get('PendantOfWisdom'),
		], [
			$this->randomizer->getWorld()->getLocation("Eastern Palace - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Desert Palace - Prize")->getItem(),
			$this->randomizer->getWorld()->getLocation("Tower of Hera - Prize")->getItem(),
		]);
	}

	/**
	 * Adjust this test and increment Logic on Randomizer if this fails.
	 *
	 * @group logic
	 */
	public function testLogicHasntChangedNoMajorGlitches() {
		$this->randomizer->makeSeed(1337);
		$loc_item_array = $this->randomizer->getWorld()->getLocations()->map(function($loc){
			return $loc->getItem()->getName();
		});

		$this->assertEquals([
			"Link's Uncle" => "ProgressiveSword",
			"Secret Passage" => "Arrow",
			"Sahasrahla's Hut - Left" => "BombUpgrade5",
			"Sahasrahla's Hut - Middle" => "ThreeBombs",
			"Sahasrahla's Hut - Right" => "BossHeartContainer",
			"Sahasrahla" => "FireRod",
			"King Zora" => "ThreeBombs",
			"Potion Shop" => "TenArrows",
			"Zora's Ledge" => "BossHeartContainer",
			"Waterfall Fairy - Left" => "BombUpgrade10",
			"Waterfall Fairy - Right" => "BossHeartContainer",
			"Master Sword Pedestal" => "TwentyRupees",
			"King's Tomb" => "FiveRupees",
			"Kakariko Tavern" => "TwentyRupees",
			"Chicken House" => "TwentyRupees",
			"Kakariko Well - Top" => "MagicMirror",
			"Kakariko Well - Left" => "BossHeartContainer",
			"Kakariko Well - Middle" => "BombUpgrade5",
			"Kakariko Well - Right" => "ThreeBombs",
			"Kakariko Well - Bottom" => "Flippers",
			"Blind's Hideout - Top" => "TwentyRupees",
			"Blind's Hideout - Left" => "CaneOfSomaria",
			"Blind's Hideout - Right" => "Lamp",
			"Blind's Hideout - Far Left" => "BombUpgrade5",
			"Blind's Hideout - Far Right" => "PieceOfHeart",
			"Pegasus Rocks" => "TwentyRupees",
			"Bottle Merchant" => "TwentyRupees",
			"Magic Bat" => "ProgressiveSword",
			"Sick Kid" => "ProgressiveGlove",
			"Lost Woods Hideout" => "PieceOfHeart",
			"Lumberjack Tree" => "ThreeBombs",
			"Graveyard Ledge" => "PieceOfHeart",
			"Mushroom" => "TwentyRupees",
			"Floodgate Chest" => "OneRupee",
			"Link's House" => "Shovel",
			"Aginah's Cave" => "ThreeBombs",
			"Mini Moldorm Cave - Far Left" => "PieceOfHeart",
			"Mini Moldorm Cave - Left" => "MoonPearl",
			"Mini Moldorm Cave - Right" => "TenArrows",
			"Mini Moldorm Cave - Far Right" => "FiveRupees",
			"Ice Rod Cave" => "Cape",
			"Hobo" => "PieceOfHeart",
			"Bombos Tablet" => "ThreeBombs",
			"Cave 45" => "TwentyRupees",
			"Checkerboard Cave" => "HeartContainer",
			"Mini Moldorm Cave - NPC" => "Bottle",
			"Library" => "Mushroom",
			"Maze Race" => "PieceOfHeart",
			"Desert Ledge" => "PieceOfHeart",
			"Lake Hylia Island" => "TwentyRupees",
			"Sunken Treasure" => "TwentyRupees",
			"Flute Spot" => "TwentyRupees",
			"Sanctuary" => "ThreeBombs",
			"Sewers - Secret Room - Left" => "BottleWithBluePotion",
			"Sewers - Secret Room - Middle" => "PieceOfHeart",
			"Sewers - Secret Room - Right" => "MapH2",
			"Sewers - Dark Cross" => "BossHeartContainer",
			"Hyrule Castle - Boomerang Chest" => "KeyH2",
			"Hyrule Castle - Map Chest" => "ThreeHundredRupees",
			"Hyrule Castle - Zelda's Cell" => "FiftyRupees",
			"Eastern Palace - Compass Chest" => "MapP1",
			"Eastern Palace - Big Chest" => "CompassP1",
			"Eastern Palace - Cannonball Chest" => "TwentyRupees",
			"Eastern Palace - Big Key Chest" => "RedBoomerang",
			"Eastern Palace - Map Chest" => "BigKeyP1",
			"Eastern Palace - Armos Knights" => "BossHeartContainer",
			"Eastern Palace - Prize" => "PendantOfCourage",
			"Desert Palace - Big Chest" => "MapP2",
			"Desert Palace - Map Chest" => "KeyP2",
			"Desert Palace - Torch" => "FiftyRupees",
			"Desert Palace - Big Key Chest" => "BigKeyP2",
			"Desert Palace - Compass Chest" => "CompassP2",
			"Desert Palace - Lanmolas'" => "TenArrows",
			"Desert Palace - Prize" => "Crystal7",
			"Old Man" => "SilverArrowUpgrade",
			"Spectacle Rock Cave" => "PieceOfHeart",
			"Ether Tablet" => "BombUpgrade5",
			"Spectacle Rock" => "PieceOfHeart",
			"Spiral Cave" => "Quake",
			"Mimic Cave" => "PieceOfHeart",
			"Paradox Cave Lower - Far Left" => "Bombos",
			"Paradox Cave Lower - Left" => "ProgressiveShield",
			"Paradox Cave Lower - Right" => "ProgressiveShield",
			"Paradox Cave Lower - Far Right" => "BottleWithGreenPotion",
			"Paradox Cave Lower - Middle" => "TwentyRupees",
			"Paradox Cave Upper - Left" => "TwentyRupees",
			"Paradox Cave Upper - Right" => "TenArrows",
			"Floating Island" => "ThreeBombs",
			"Tower of Hera - Big Key Chest" => "MapP3",
			"Tower of Hera - Basement Cage" => "CaneOfByrna",
			"Tower of Hera - Map Chest" => "BigKeyP3",
			"Tower of Hera - Compass Chest" => "CompassP3",
			"Tower of Hera - Big Chest" => "ArrowUpgrade5",
			"Tower of Hera - Moldorm" => "KeyP3",
			"Tower of Hera - Prize" => "Crystal3",
			"Castle Tower - Room 03" => "KeyA1",
			"Castle Tower - Dark Maze" => "KeyA1",
			"Agahnim" => "DefeatAgahnim",
			"Superbunny Cave - Top" => "ThreeBombs",
			"Superbunny Cave - Bottom" => "ArrowUpgrade10",
			"Hookshot Cave - Top Right" => "ProgressiveSword",
			"Hookshot Cave - Top Left" => "BombUpgrade5",
			"Hookshot Cave - Bottom Left" => "ArrowUpgrade5",
			"Hookshot Cave - Bottom Right" => "Hookshot",
			"Spike Cave" => "FiftyRupees",
			"Catfish" => "ProgressiveGlove",
			"Pyramid" => "ArrowUpgrade5",
			"Pyramid Fairy - Sword" => "L1Sword",
			"Pyramid Fairy - Bow" => "BowAndArrows",
			"Ganon" => "DefeatGanon",
			"Pyramid Fairy - Left" => "ThreeHundredRupees",
			"Pyramid Fairy - Right" => "OneRupee",
			"Brewery" => "BossHeartContainer",
			"C-Shaped House" => "Hammer",
			"Chest Game" => "TwentyRupees",
			"Hammer Pegs" => "FiftyRupees",
			"Bumper Cave" => "FiftyRupees",
			"Blacksmith" => "PieceOfHeart",
			"Purple Chest" => "PieceOfHeart",
			"Hype Cave - Top" => "TwentyRupees",
			"Hype Cave - Middle Right" => "PieceOfHeart",
			"Hype Cave - Middle Left" => "ThreeHundredRupees",
			"Hype Cave - Bottom" => "TwentyRupees",
			"Stumpy" => "BottleWithBee",
			"Hype Cave - NPC" => "Ether",
			"Digging Game" => "ProgressiveSword",
			"Mire Shed - Left" => "TwentyRupees",
			"Mire Shed - Right" => "ProgressiveShield",
			"Palace of Darkness - Shooter Room" => "KeyD1",
			"Palace of Darkness - Big Key Chest" => "KeyD1",
			"Palace of Darkness - The Arena - Ledge" => "PieceOfHeart",
			"Palace of Darkness - The Arena - Bridge" => "KeyD1",
			"Palace of Darkness - Stalfos Basement" => "MapD1",
			"Palace of Darkness - Map Chest" => "KeyD1",
			"Palace of Darkness - Big Chest" => "PieceOfHeart",
			"Palace of Darkness - Compass Chest" => "KeyD1",
			"Palace of Darkness - Harmless Hellway" => "TwentyRupees",
			"Palace of Darkness - Dark Basement - Left" => "KeyD1",
			"Palace of Darkness - Dark Basement - Right" => "BigKeyD1",
			"Palace of Darkness - Dark Maze - Top" => "CompassD1",
			"Palace of Darkness - Dark Maze - Bottom" => "ProgressiveArmor",
			"Palace of Darkness - Helmasaur King" => "BugCatchingNet",
			"Palace of Darkness - Prize" => "Crystal6",
			"Swamp Palace - Entrance" => "KeyD2",
			"Swamp Palace - Big Chest" => "TwentyRupees",
			"Swamp Palace - Big Key Chest" => "Boomerang",
			"Swamp Palace - Map Chest" => "MapD2",
			"Swamp Palace - West Chest" => "CompassD2",
			"Swamp Palace - Compass Chest" => "PieceOfHeart",
			"Swamp Palace - Flooded Room - Left" => "TwentyRupees",
			"Swamp Palace - Flooded Room - Right" => "PieceOfHeart",
			"Swamp Palace - Waterfall Room" => "BigKeyD2",
			"Swamp Palace - Arrghus" => "PieceOfHeart",
			"Swamp Palace - Prize" => "Crystal4",
			"Skull Woods - Big Chest" => "PieceOfHeart",
			"Skull Woods - Big Key Chest" => "Bow",
			"Skull Woods - Compass Chest" => "KeyD3",
			"Skull Woods - Map Chest" => "CompassD3",
			"Skull Woods - Bridge Room" => "KeyD3",
			"Skull Woods - Pot Prison" => "BigKeyD3",
			"Skull Woods - Pinball Room" => "KeyD3",
			"Skull Woods - Mothula" => "MapD3",
			"Skull Woods - Prize" => "Crystal2",
			"Thieves' Town - Attic" => "CompassD4",
			"Thieves' Town - Big Key Chest" => "PegasusBoots",
			"Thieves' Town - Map Chest" => "KeyD4",
			"Thieves' Town - Compass Chest" => "BossHeartContainer",
			"Thieves' Town - Ambush Chest" => "BigKeyD4",
			"Thieves' Town - Big Chest" => "MapD4",
			"Thieves' Town - Blind's Cell" => "ArrowUpgrade5",
			"Thieves' Town - Blind" => "IceRod",
			"Thieves' Town - Prize" => "PendantOfWisdom",
			"Ice Palace - Big Key Chest" => "TwentyRupees",
			"Ice Palace - Compass Chest" => "BigKeyD5",
			"Ice Palace - Map Chest" => "BossHeartContainer",
			"Ice Palace - Spike Room" => "KeyD5",
			"Ice Palace - Freezor Chest" => "TwentyRupees",
			"Ice Palace - Iced T Room" => "CompassD5",
			"Ice Palace - Big Chest" => "MapD5",
			"Ice Palace - Kholdstare" => "KeyD5",
			"Ice Palace - Prize" => "PendantOfPower",
			"Misery Mire - Big Chest" => "ProgressiveArmor",
			"Misery Mire - Main Lobby" => "KeyD6",
			"Misery Mire - Big Key Chest" => "MapD6",
			"Misery Mire - Compass Chest" => "HalfMagic",
			"Misery Mire - Bridge Chest" => "KeyD6",
			"Misery Mire - Map Chest" => "BigKeyD6",
			"Misery Mire - Spike Chest" => "CompassD6",
			"Misery Mire - Vitreous" => "KeyD6",
			"Misery Mire - Prize" => "Crystal5",
			"Turtle Rock - Chain Chomps" => "OcarinaInactive",
			"Turtle Rock - Compass Chest" => "KeyD7",
			"Turtle Rock - Roller Room - Left" => "KeyD7",
			"Turtle Rock - Roller Room - Right" => "BigKeyD7",
			"Turtle Rock - Big Chest" => "KeyD7",
			"Turtle Rock - Big Key Chest" => "TwentyRupees",
			"Turtle Rock - Crystaroller Room" => "CompassD7",
			"Turtle Rock - Eye Bridge - Bottom Left" => "MapD7",
			"Turtle Rock - Eye Bridge - Bottom Right" => "KeyD7",
			"Turtle Rock - Eye Bridge - Top Left" => "OneHundredRupees",
			"Turtle Rock - Eye Bridge - Top Right" => "Powder",
			"Turtle Rock - Trinexx" => "PieceOfHeart",
			"Turtle Rock - Prize" => "Crystal1",
			"Ganon's Tower - Bob's Torch" => "TwentyRupees",
			"Ganon's Tower - DMs Room - Top Left" => "FiveRupees",
			"Ganon's Tower - DMs Room - Top Right" => "KeyA2",
			"Ganon's Tower - DMs Room - Bottom Left" => "KeyA2",
			"Ganon's Tower - DMs Room - Bottom Right" => "PieceOfHeart",
			"Ganon's Tower - Randomizer Room - Top Left" => "FiftyRupees",
			"Ganon's Tower - Randomizer Room - Top Right" => "PieceOfHeart",
			"Ganon's Tower - Randomizer Room - Bottom Left" => "BigKeyA2",
			"Ganon's Tower - Randomizer Room - Bottom Right" => "FiveRupees",
			"Ganon's Tower - Firesnake Room" => "KeyA2",
			"Ganon's Tower - Map Chest" => "TwentyRupees",
			"Ganon's Tower - Big Chest" => "ThreeBombs",
			"Ganon's Tower - Hope Room - Left" => "TenArrows",
			"Ganon's Tower - Hope Room - Right" => "BombUpgrade5",
			"Ganon's Tower - Bob's Chest" => "ThreeHundredRupees",
			"Ganon's Tower - Tile Room" => "PieceOfHeart",
			"Ganon's Tower - Compass Room - Top Left" => "BookOfMudora",
			"Ganon's Tower - Compass Room - Top Right" => "ArrowUpgrade5",
			"Ganon's Tower - Compass Room - Bottom Left" => "TwentyRupees",
			"Ganon's Tower - Compass Room - Bottom Right" => "MapA2",
			"Ganon's Tower - Big Key Chest" => "KeyA2",
			"Ganon's Tower - Big Key Room - Left" => "ArrowUpgrade5",
			"Ganon's Tower - Big Key Room - Right" => "CompassA2",
			"Ganon's Tower - Mini Helmasaur Room - Left" => "FiftyRupees",
			"Ganon's Tower - Mini Helmasaur Room - Right" => "TwentyRupees",
			"Ganon's Tower - Pre-Moldorm Chest" => "ThreeHundredRupees",
			"Ganon's Tower - Moldorm Chest" => "BossHeartContainer",
			"Agahnim 2" => "DefeatAgahnim2",
			"Turtle Rock Medallion" => "Quake",
			"Misery Mire Medallion" => "Bombos",
			"Waterfall Bottle" => "BottleWithGreenPotion",
			"Pyramid Bottle" => "BottleWithBee",
			"Shooting Gallery" => "Nothing",
		], $loc_item_array);
	}

	/**
	 * Adjust this test and increment Logic on Randomizer if this fails.
	 *
	 * @group logic
	 */
	public function testLogicHasntChangedOverworldGlitches() {
		$this->randomizer = new Randomizer('test_rules', 'OverworldGlitches');
		$this->randomizer->makeSeed(1337);
		$loc_item_array = $this->randomizer->getWorld()->getLocations()->map(function($loc){
			return $loc->getItem()->getName();
		});

		$this->assertEquals([
			"Link's Uncle" => "ProgressiveSword",
			"Secret Passage" => "BossHeartContainer",
			"Sahasrahla's Hut - Left" => "BombUpgrade5",
			"Sahasrahla's Hut - Middle" => "ThreeBombs",
			"Sahasrahla's Hut - Right" => "BossHeartContainer",
			"Sahasrahla" => "FireRod",
			"King Zora" => "ThreeBombs",
			"Potion Shop" => "TenArrows",
			"Zora's Ledge" => "TwentyRupees",
			"Waterfall Fairy - Left" => "BombUpgrade10",
			"Waterfall Fairy - Right" => "PieceOfHeart",
			"Master Sword Pedestal" => "TwentyRupees",
			"King's Tomb" => "PieceOfHeart",
			"Kakariko Tavern" => "TwentyRupees",
			"Chicken House" => "TwentyRupees",
			"Kakariko Well - Top" => "MagicMirror",
			"Kakariko Well - Left" => "PieceOfHeart",
			"Kakariko Well - Middle" => "PieceOfHeart",
			"Kakariko Well - Right" => "ThreeBombs",
			"Kakariko Well - Bottom" => "Flippers",
			"Blind's Hideout - Top" => "TwentyRupees",
			"Blind's Hideout - Left" => "CaneOfSomaria",
			"Blind's Hideout - Right" => "Lamp",
			"Blind's Hideout - Far Left" => "TenArrows",
			"Blind's Hideout - Far Right" => "TenArrows",
			"Pegasus Rocks" => "TwentyRupees",
			"Bottle Merchant" => "TwentyRupees",
			"Magic Bat" => "ProgressiveSword",
			"Sick Kid" => "Powder",
			"Lost Woods Hideout" => "ArrowUpgrade10",
			"Lumberjack Tree" => "ThreeBombs",
			"Graveyard Ledge" => "TwentyRupees",
			"Mushroom" => "OneRupee",
			"Floodgate Chest" => "BossHeartContainer",
			"Link's House" => "Shovel",
			"Aginah's Cave" => "OneHundredRupees",
			"Mini Moldorm Cave - Far Left" => "ThreeHundredRupees",
			"Mini Moldorm Cave - Left" => "MoonPearl",
			"Mini Moldorm Cave - Right" => "ArrowUpgrade5",
			"Mini Moldorm Cave - Far Right" => "FiveRupees",
			"Ice Rod Cave" => "Cape",
			"Hobo" => "PieceOfHeart",
			"Bombos Tablet" => "ThreeBombs",
			"Cave 45" => "PieceOfHeart",
			"Checkerboard Cave" => "TwentyRupees",
			"Mini Moldorm Cave - NPC" => "Bottle",
			"Library" => "ProgressiveShield",
			"Maze Race" => "TwentyRupees",
			"Desert Ledge" => "PieceOfHeart",
			"Lake Hylia Island" => "TwentyRupees",
			"Sunken Treasure" => "TwentyRupees",
			"Flute Spot" => "TwentyRupees",
			"Sanctuary" => "TwentyRupees",
			"Sewers - Secret Room - Left" => "FiftyRupees",
			"Sewers - Secret Room - Middle" => "PieceOfHeart",
			"Sewers - Secret Room - Right" => "MapH2",
			"Sewers - Dark Cross" => "BossHeartContainer",
			"Hyrule Castle - Boomerang Chest" => "KeyH2",
			"Hyrule Castle - Map Chest" => "ProgressiveSword",
			"Hyrule Castle - Zelda's Cell" => "PieceOfHeart",
			"Eastern Palace - Compass Chest" => "MapP1",
			"Eastern Palace - Big Chest" => "CompassP1",
			"Eastern Palace - Cannonball Chest" => "FiftyRupees",
			"Eastern Palace - Big Key Chest" => "RedBoomerang",
			"Eastern Palace - Map Chest" => "BigKeyP1",
			"Eastern Palace - Armos Knights" => "BossHeartContainer",
			"Eastern Palace - Prize" => "PendantOfCourage",
			"Desert Palace - Big Chest" => "MapP2",
			"Desert Palace - Map Chest" => "KeyP2",
			"Desert Palace - Torch" => "PieceOfHeart",
			"Desert Palace - Big Key Chest" => "BigKeyP2",
			"Desert Palace - Compass Chest" => "CompassP2",
			"Desert Palace - Lanmolas'" => "TenArrows",
			"Desert Palace - Prize" => "Crystal7",
			"Old Man" => "SilverArrowUpgrade",
			"Spectacle Rock Cave" => "PieceOfHeart",
			"Ether Tablet" => "BottleWithBluePotion",
			"Spectacle Rock" => "PieceOfHeart",
			"Spiral Cave" => "TwentyRupees",
			"Mimic Cave" => "BossHeartContainer",
			"Paradox Cave Lower - Far Left" => "Bombos",
			"Paradox Cave Lower - Left" => "ProgressiveShield",
			"Paradox Cave Lower - Right" => "ProgressiveGlove",
			"Paradox Cave Lower - Far Right" => "BottleWithGreenPotion",
			"Paradox Cave Lower - Middle" => "TwentyRupees",
			"Paradox Cave Upper - Left" => "TwentyRupees",
			"Paradox Cave Upper - Right" => "TenArrows",
			"Floating Island" => "ThreeBombs",
			"Tower of Hera - Big Key Chest" => "MapP3",
			"Tower of Hera - Basement Cage" => "CaneOfByrna",
			"Tower of Hera - Map Chest" => "BigKeyP3",
			"Tower of Hera - Compass Chest" => "CompassP3",
			"Tower of Hera - Big Chest" => "TwentyRupees",
			"Tower of Hera - Moldorm" => "KeyP3",
			"Tower of Hera - Prize" => "Crystal3",
			"Castle Tower - Room 03" => "KeyA1",
			"Castle Tower - Dark Maze" => "KeyA1",
			"Agahnim" => "DefeatAgahnim",
			"Superbunny Cave - Top" => "ThreeHundredRupees",
			"Superbunny Cave - Bottom" => "ProgressiveSword",
			"Hookshot Cave - Top Right" => "FiftyRupees",
			"Hookshot Cave - Top Left" => "BombUpgrade5",
			"Hookshot Cave - Bottom Left" => "ArrowUpgrade5",
			"Hookshot Cave - Bottom Right" => "Hookshot",
			"Spike Cave" => "HeartContainer",
			"Catfish" => "Mushroom",
			"Pyramid" => "ArrowUpgrade5",
			"Pyramid Fairy - Sword" => "L1Sword",
			"Pyramid Fairy - Bow" => "BowAndArrows",
			"Ganon" => "DefeatGanon",
			"Pyramid Fairy - Left" => "ThreeHundredRupees",
			"Pyramid Fairy - Right" => "OneRupee",
			"Brewery" => "BossHeartContainer",
			"C-Shaped House" => "Hammer",
			"Chest Game" => "TwentyRupees",
			"Hammer Pegs" => "FiftyRupees",
			"Bumper Cave" => "FiftyRupees",
			"Blacksmith" => "PieceOfHeart",
			"Purple Chest" => "PieceOfHeart",
			"Hype Cave - Top" => "TwentyRupees",
			"Hype Cave - Middle Right" => "PieceOfHeart",
			"Hype Cave - Middle Left" => "ThreeHundredRupees",
			"Hype Cave - Bottom" => "TwentyRupees",
			"Stumpy" => "BottleWithBee",
			"Hype Cave - NPC" => "Ether",
			"Digging Game" => "PieceOfHeart",
			"Mire Shed - Left" => "BombUpgrade5",
			"Mire Shed - Right" => "ProgressiveShield",
			"Palace of Darkness - Shooter Room" => "KeyD1",
			"Palace of Darkness - Big Key Chest" => "KeyD1",
			"Palace of Darkness - The Arena - Ledge" => "PieceOfHeart",
			"Palace of Darkness - The Arena - Bridge" => "KeyD1",
			"Palace of Darkness - Stalfos Basement" => "MapD1",
			"Palace of Darkness - Map Chest" => "KeyD1",
			"Palace of Darkness - Big Chest" => "Boomerang",
			"Palace of Darkness - Compass Chest" => "KeyD1",
			"Palace of Darkness - Harmless Hellway" => "Arrow",
			"Palace of Darkness - Dark Basement - Left" => "KeyD1",
			"Palace of Darkness - Dark Basement - Right" => "BigKeyD1",
			"Palace of Darkness - Dark Maze - Top" => "CompassD1",
			"Palace of Darkness - Dark Maze - Bottom" => "BossHeartContainer",
			"Palace of Darkness - Helmasaur King" => "BugCatchingNet",
			"Palace of Darkness - Prize" => "Crystal6",
			"Swamp Palace - Entrance" => "KeyD2",
			"Swamp Palace - Big Chest" => "TwentyRupees",
			"Swamp Palace - Big Key Chest" => "TwentyRupees",
			"Swamp Palace - Map Chest" => "MapD2",
			"Swamp Palace - West Chest" => "CompassD2",
			"Swamp Palace - Compass Chest" => "ThreeBombs",
			"Swamp Palace - Flooded Room - Left" => "TwentyRupees",
			"Swamp Palace - Flooded Room - Right" => "PieceOfHeart",
			"Swamp Palace - Waterfall Room" => "BigKeyD2",
			"Swamp Palace - Arrghus" => "TwentyRupees",
			"Swamp Palace - Prize" => "Crystal4",
			"Skull Woods - Big Chest" => "FiveRupees",
			"Skull Woods - Big Key Chest" => "Bow",
			"Skull Woods - Compass Chest" => "KeyD3",
			"Skull Woods - Map Chest" => "CompassD3",
			"Skull Woods - Bridge Room" => "KeyD3",
			"Skull Woods - Pot Prison" => "BigKeyD3",
			"Skull Woods - Pinball Room" => "KeyD3",
			"Skull Woods - Mothula" => "MapD3",
			"Skull Woods - Prize" => "Crystal2",
			"Thieves' Town - Attic" => "CompassD4",
			"Thieves' Town - Big Key Chest" => "PegasusBoots",
			"Thieves' Town - Map Chest" => "KeyD4",
			"Thieves' Town - Compass Chest" => "BossHeartContainer",
			"Thieves' Town - Ambush Chest" => "BigKeyD4",
			"Thieves' Town - Big Chest" => "MapD4",
			"Thieves' Town - Blind's Cell" => "ArrowUpgrade5",
			"Thieves' Town - Blind" => "IceRod",
			"Thieves' Town - Prize" => "PendantOfWisdom",
			"Ice Palace - Big Key Chest" => "BossHeartContainer",
			"Ice Palace - Compass Chest" => "BigKeyD5",
			"Ice Palace - Map Chest" => "ThreeBombs",
			"Ice Palace - Spike Room" => "KeyD5",
			"Ice Palace - Freezor Chest" => "BombUpgrade5",
			"Ice Palace - Iced T Room" => "CompassD5",
			"Ice Palace - Big Chest" => "MapD5",
			"Ice Palace - Kholdstare" => "KeyD5",
			"Ice Palace - Prize" => "PendantOfPower",
			"Misery Mire - Big Chest" => "ThreeBombs",
			"Misery Mire - Main Lobby" => "KeyD6",
			"Misery Mire - Big Key Chest" => "MapD6",
			"Misery Mire - Compass Chest" => "Quake",
			"Misery Mire - Bridge Chest" => "KeyD6",
			"Misery Mire - Map Chest" => "BigKeyD6",
			"Misery Mire - Spike Chest" => "CompassD6",
			"Misery Mire - Vitreous" => "KeyD6",
			"Misery Mire - Prize" => "Crystal5",
			"Turtle Rock - Chain Chomps" => "OcarinaInactive",
			"Turtle Rock - Compass Chest" => "PieceOfHeart",
			"Turtle Rock - Roller Room - Left" => "CompassD7",
			"Turtle Rock - Roller Room - Right" => "BigKeyD7",
			"Turtle Rock - Big Chest" => "KeyD7",
			"Turtle Rock - Big Key Chest" => "KeyD7",
			"Turtle Rock - Crystaroller Room" => "KeyD7",
			"Turtle Rock - Eye Bridge - Bottom Left" => "MapD7",
			"Turtle Rock - Eye Bridge - Bottom Right" => "KeyD7",
			"Turtle Rock - Eye Bridge - Top Left" => "ProgressiveArmor",
			"Turtle Rock - Eye Bridge - Top Right" => "ProgressiveGlove",
			"Turtle Rock - Trinexx" => "PieceOfHeart",
			"Turtle Rock - Prize" => "Crystal1",
			"Ganon's Tower - Bob's Torch" => "TwentyRupees",
			"Ganon's Tower - DMs Room - Top Left" => "FiveRupees",
			"Ganon's Tower - DMs Room - Top Right" => "KeyA2",
			"Ganon's Tower - DMs Room - Bottom Left" => "KeyA2",
			"Ganon's Tower - DMs Room - Bottom Right" => "PieceOfHeart",
			"Ganon's Tower - Randomizer Room - Top Left" => "FiftyRupees",
			"Ganon's Tower - Randomizer Room - Top Right" => "PieceOfHeart",
			"Ganon's Tower - Randomizer Room - Bottom Left" => "BigKeyA2",
			"Ganon's Tower - Randomizer Room - Bottom Right" => "FiveRupees",
			"Ganon's Tower - Firesnake Room" => "KeyA2",
			"Ganon's Tower - Map Chest" => "TwentyRupees",
			"Ganon's Tower - Big Chest" => "ThreeBombs",
			"Ganon's Tower - Hope Room - Left" => "PieceOfHeart",
			"Ganon's Tower - Hope Room - Right" => "BombUpgrade5",
			"Ganon's Tower - Bob's Chest" => "ThreeHundredRupees",
			"Ganon's Tower - Tile Room" => "PieceOfHeart",
			"Ganon's Tower - Compass Room - Top Left" => "BookOfMudora",
			"Ganon's Tower - Compass Room - Top Right" => "ArrowUpgrade5",
			"Ganon's Tower - Compass Room - Bottom Left" => "HalfMagic",
			"Ganon's Tower - Compass Room - Bottom Right" => "MapA2",
			"Ganon's Tower - Big Key Chest" => "KeyA2",
			"Ganon's Tower - Big Key Room - Left" => "ArrowUpgrade5",
			"Ganon's Tower - Big Key Room - Right" => "CompassA2",
			"Ganon's Tower - Mini Helmasaur Room - Left" => "FiftyRupees",
			"Ganon's Tower - Mini Helmasaur Room - Right" => "TwentyRupees",
			"Ganon's Tower - Pre-Moldorm Chest" => "BombUpgrade5",
			"Ganon's Tower - Moldorm Chest" => "ProgressiveArmor",
			"Agahnim 2" => "DefeatAgahnim2",
			"Turtle Rock Medallion" => "Quake",
			"Misery Mire Medallion" => "Bombos",
			"Waterfall Bottle" => "BottleWithGreenPotion",
			"Pyramid Bottle" => "BottleWithBee",
			"Shooting Gallery" => "Nothing",
		], $loc_item_array);
	}

	/**
	 * Adjust this test and increment Logic on Randomizer if this fails.
	 *
	 * @group logic
	 */
	public function testLogicHasntChangedMajorGlitches() {
		$this->randomizer = new Randomizer('test_rules', 'MajorGlitches');
		$this->randomizer->makeSeed(1337);
		$loc_item_array = $this->randomizer->getWorld()->getLocations()->map(function($loc){
			return $loc->getItem()->getName();
		});

		$this->assertEquals([
			"Link's Uncle" => "ProgressiveSword",
			"Secret Passage" => "BossHeartContainer",
			"Sahasrahla's Hut - Left" => "BombUpgrade5",
			"Sahasrahla's Hut - Middle" => "ThreeBombs",
			"Sahasrahla's Hut - Right" => "BossHeartContainer",
			"Sahasrahla" => "FireRod",
			"King Zora" => "ThreeBombs",
			"Potion Shop" => "TenArrows",
			"Zora's Ledge" => "TwentyRupees",
			"Waterfall Fairy - Left" => "BombUpgrade10",
			"Waterfall Fairy - Right" => "PieceOfHeart",
			"Master Sword Pedestal" => "TwentyRupees",
			"King's Tomb" => "PieceOfHeart",
			"Kakariko Tavern" => "TwentyRupees",
			"Chicken House" => "PieceOfHeart",
			"Kakariko Well - Top" => "MagicMirror",
			"Kakariko Well - Left" => "Boomerang",
			"Kakariko Well - Middle" => "PieceOfHeart",
			"Kakariko Well - Right" => "ThreeBombs",
			"Kakariko Well - Bottom" => "Flippers",
			"Blind's Hideout - Top" => "TwentyRupees",
			"Blind's Hideout - Left" => "CaneOfSomaria",
			"Blind's Hideout - Right" => "ProgressiveGlove",
			"Blind's Hideout - Far Left" => "TenArrows",
			"Blind's Hideout - Far Right" => "TenArrows",
			"Pegasus Rocks" => "TwentyRupees",
			"Bottle Merchant" => "TwentyRupees",
			"Magic Bat" => "ProgressiveSword",
			"Sick Kid" => "Powder",
			"Lost Woods Hideout" => "ArrowUpgrade10",
			"Lumberjack Tree" => "ThreeBombs",
			"Graveyard Ledge" => "TwentyRupees",
			"Mushroom" => "OneRupee",
			"Floodgate Chest" => "BossHeartContainer",
			"Link's House" => "Shovel",
			"Aginah's Cave" => "ProgressiveArmor",
			"Mini Moldorm Cave - Far Left" => "ProgressiveSword",
			"Mini Moldorm Cave - Left" => "MoonPearl",
			"Mini Moldorm Cave - Right" => "ArrowUpgrade5",
			"Mini Moldorm Cave - Far Right" => "FiveRupees",
			"Ice Rod Cave" => "Cape",
			"Hobo" => "PieceOfHeart",
			"Bombos Tablet" => "ThreeBombs",
			"Cave 45" => "ThreeHundredRupees",
			"Checkerboard Cave" => "TwentyRupees",
			"Mini Moldorm Cave - NPC" => "Bottle",
			"Library" => "ProgressiveShield",
			"Maze Race" => "TwentyRupees",
			"Desert Ledge" => "PieceOfHeart",
			"Lake Hylia Island" => "TwentyRupees",
			"Sunken Treasure" => "TwentyRupees",
			"Flute Spot" => "TwentyRupees",
			"Sanctuary" => "TwentyRupees",
			"Sewers - Secret Room - Left" => "FiftyRupees",
			"Sewers - Secret Room - Middle" => "PieceOfHeart",
			"Sewers - Secret Room - Right" => "MapH2",
			"Sewers - Dark Cross" => "BossHeartContainer",
			"Hyrule Castle - Boomerang Chest" => "KeyH2",
			"Hyrule Castle - Map Chest" => "PieceOfHeart",
			"Hyrule Castle - Zelda's Cell" => "PieceOfHeart",
			"Eastern Palace - Compass Chest" => "MapP1",
			"Eastern Palace - Big Chest" => "CompassP1",
			"Eastern Palace - Cannonball Chest" => "FiftyRupees",
			"Eastern Palace - Big Key Chest" => "RedBoomerang",
			"Eastern Palace - Map Chest" => "BigKeyP1",
			"Eastern Palace - Armos Knights" => "BossHeartContainer",
			"Eastern Palace - Prize" => "PendantOfCourage",
			"Desert Palace - Big Chest" => "MapP2",
			"Desert Palace - Map Chest" => "KeyP2",
			"Desert Palace - Torch" => "PieceOfHeart",
			"Desert Palace - Big Key Chest" => "BigKeyP2",
			"Desert Palace - Compass Chest" => "CompassP2",
			"Desert Palace - Lanmolas'" => "TenArrows",
			"Desert Palace - Prize" => "Crystal7",
			"Old Man" => "SilverArrowUpgrade",
			"Spectacle Rock Cave" => "PieceOfHeart",
			"Ether Tablet" => "BottleWithBluePotion",
			"Spectacle Rock" => "PieceOfHeart",
			"Spiral Cave" => "TwentyRupees",
			"Mimic Cave" => "BossHeartContainer",
			"Paradox Cave Lower - Far Left" => "Bombos",
			"Paradox Cave Lower - Left" => "ProgressiveShield",
			"Paradox Cave Lower - Right" => "ProgressiveGlove",
			"Paradox Cave Lower - Far Right" => "BottleWithGreenPotion",
			"Paradox Cave Lower - Middle" => "TwentyRupees",
			"Paradox Cave Upper - Left" => "TwentyRupees",
			"Paradox Cave Upper - Right" => "TenArrows",
			"Floating Island" => "ThreeBombs",
			"Tower of Hera - Big Key Chest" => "MapP3",
			"Tower of Hera - Basement Cage" => "CaneOfByrna",
			"Tower of Hera - Map Chest" => "KeyP3",
			"Tower of Hera - Compass Chest" => "CompassP3",
			"Tower of Hera - Big Chest" => "TwentyRupees",
			"Tower of Hera - Moldorm" => "BigKeyP3",
			"Tower of Hera - Prize" => "Crystal3",
			"Castle Tower - Room 03" => "KeyA1",
			"Castle Tower - Dark Maze" => "KeyA1",
			"Agahnim" => "DefeatAgahnim",
			"Superbunny Cave - Top" => "ThreeHundredRupees",
			"Superbunny Cave - Bottom" => "ProgressiveSword",
			"Hookshot Cave - Top Right" => "FiftyRupees",
			"Hookshot Cave - Top Left" => "BombUpgrade5",
			"Hookshot Cave - Bottom Left" => "ArrowUpgrade5",
			"Hookshot Cave - Bottom Right" => "Hookshot",
			"Spike Cave" => "HeartContainer",
			"Catfish" => "Mushroom",
			"Pyramid" => "ArrowUpgrade5",
			"Pyramid Fairy - Sword" => "L1Sword",
			"Pyramid Fairy - Bow" => "BowAndArrows",
			"Ganon" => "DefeatGanon",
			"Pyramid Fairy - Left" => "ThreeHundredRupees",
			"Pyramid Fairy - Right" => "OneRupee",
			"Brewery" => "BossHeartContainer",
			"C-Shaped House" => "Hammer",
			"Chest Game" => "TwentyRupees",
			"Hammer Pegs" => "FiftyRupees",
			"Bumper Cave" => "FiftyRupees",
			"Blacksmith" => "PieceOfHeart",
			"Purple Chest" => "PieceOfHeart",
			"Hype Cave - Top" => "TwentyRupees",
			"Hype Cave - Middle Right" => "PieceOfHeart",
			"Hype Cave - Middle Left" => "ThreeHundredRupees",
			"Hype Cave - Bottom" => "TwentyRupees",
			"Stumpy" => "BottleWithBee",
			"Hype Cave - NPC" => "Ether",
			"Digging Game" => "ThreeBombs",
			"Mire Shed - Left" => "BombUpgrade5",
			"Mire Shed - Right" => "ProgressiveShield",
			"Palace of Darkness - Shooter Room" => "KeyD1",
			"Palace of Darkness - Big Key Chest" => "KeyD1",
			"Palace of Darkness - The Arena - Ledge" => "PieceOfHeart",
			"Palace of Darkness - The Arena - Bridge" => "KeyD1",
			"Palace of Darkness - Stalfos Basement" => "MapD1",
			"Palace of Darkness - Map Chest" => "KeyD1",
			"Palace of Darkness - Big Chest" => "TwentyRupees",
			"Palace of Darkness - Compass Chest" => "KeyD1",
			"Palace of Darkness - Harmless Hellway" => "Arrow",
			"Palace of Darkness - Dark Basement - Left" => "KeyD1",
			"Palace of Darkness - Dark Basement - Right" => "BigKeyD1",
			"Palace of Darkness - Dark Maze - Top" => "CompassD1",
			"Palace of Darkness - Dark Maze - Bottom" => "PieceOfHeart",
			"Palace of Darkness - Helmasaur King" => "BugCatchingNet",
			"Palace of Darkness - Prize" => "Crystal6",
			"Swamp Palace - Entrance" => "KeyD2",
			"Swamp Palace - Big Chest" => "TwentyRupees",
			"Swamp Palace - Big Key Chest" => "TwentyRupees",
			"Swamp Palace - Map Chest" => "MapD2",
			"Swamp Palace - West Chest" => "CompassD2",
			"Swamp Palace - Compass Chest" => "OneHundredRupees",
			"Swamp Palace - Flooded Room - Left" => "TwentyRupees",
			"Swamp Palace - Flooded Room - Right" => "PieceOfHeart",
			"Swamp Palace - Waterfall Room" => "BigKeyD2",
			"Swamp Palace - Arrghus" => "TwentyRupees",
			"Swamp Palace - Prize" => "Crystal4",
			"Skull Woods - Big Chest" => "FiveRupees",
			"Skull Woods - Big Key Chest" => "Bow",
			"Skull Woods - Compass Chest" => "KeyD3",
			"Skull Woods - Map Chest" => "CompassD3",
			"Skull Woods - Bridge Room" => "KeyD3",
			"Skull Woods - Pot Prison" => "BigKeyD3",
			"Skull Woods - Pinball Room" => "KeyD3",
			"Skull Woods - Mothula" => "MapD3",
			"Skull Woods - Prize" => "Crystal2",
			"Thieves' Town - Attic" => "CompassD4",
			"Thieves' Town - Big Key Chest" => "PegasusBoots",
			"Thieves' Town - Map Chest" => "KeyD4",
			"Thieves' Town - Compass Chest" => "BossHeartContainer",
			"Thieves' Town - Ambush Chest" => "BigKeyD4",
			"Thieves' Town - Big Chest" => "MapD4",
			"Thieves' Town - Blind's Cell" => "ArrowUpgrade5",
			"Thieves' Town - Blind" => "IceRod",
			"Thieves' Town - Prize" => "PendantOfWisdom",
			"Ice Palace - Big Key Chest" => "BossHeartContainer",
			"Ice Palace - Compass Chest" => "BigKeyD5",
			"Ice Palace - Map Chest" => "ThreeBombs",
			"Ice Palace - Spike Room" => "KeyD5",
			"Ice Palace - Freezor Chest" => "BombUpgrade5",
			"Ice Palace - Iced T Room" => "CompassD5",
			"Ice Palace - Big Chest" => "MapD5",
			"Ice Palace - Kholdstare" => "KeyD5",
			"Ice Palace - Prize" => "PendantOfPower",
			"Misery Mire - Big Chest" => "ThreeBombs",
			"Misery Mire - Main Lobby" => "KeyD6",
			"Misery Mire - Big Key Chest" => "MapD6",
			"Misery Mire - Compass Chest" => "Quake",
			"Misery Mire - Bridge Chest" => "KeyD6",
			"Misery Mire - Map Chest" => "BigKeyD6",
			"Misery Mire - Spike Chest" => "CompassD6",
			"Misery Mire - Vitreous" => "KeyD6",
			"Misery Mire - Prize" => "Crystal5",
			"Turtle Rock - Chain Chomps" => "OcarinaInactive",
			"Turtle Rock - Compass Chest" => "PieceOfHeart",
			"Turtle Rock - Roller Room - Left" => "CompassD7",
			"Turtle Rock - Roller Room - Right" => "KeyD7",
			"Turtle Rock - Big Chest" => "KeyD7",
			"Turtle Rock - Big Key Chest" => "KeyD7",
			"Turtle Rock - Crystaroller Room" => "BossHeartContainer",
			"Turtle Rock - Eye Bridge - Bottom Left" => "KeyD7",
			"Turtle Rock - Eye Bridge - Bottom Right" => "BigKeyD7",
			"Turtle Rock - Eye Bridge - Top Left" => "MapD7",
			"Turtle Rock - Eye Bridge - Top Right" => "Lamp",
			"Turtle Rock - Trinexx" => "PieceOfHeart",
			"Turtle Rock - Prize" => "Crystal1",
			"Ganon's Tower - Bob's Torch" => "TwentyRupees",
			"Ganon's Tower - DMs Room - Top Left" => "FiveRupees",
			"Ganon's Tower - DMs Room - Top Right" => "KeyA2",
			"Ganon's Tower - DMs Room - Bottom Left" => "KeyA2",
			"Ganon's Tower - DMs Room - Bottom Right" => "PieceOfHeart",
			"Ganon's Tower - Randomizer Room - Top Left" => "FiftyRupees",
			"Ganon's Tower - Randomizer Room - Top Right" => "PieceOfHeart",
			"Ganon's Tower - Randomizer Room - Bottom Left" => "BigKeyA2",
			"Ganon's Tower - Randomizer Room - Bottom Right" => "FiveRupees",
			"Ganon's Tower - Firesnake Room" => "KeyA2",
			"Ganon's Tower - Map Chest" => "TwentyRupees",
			"Ganon's Tower - Big Chest" => "ThreeBombs",
			"Ganon's Tower - Hope Room - Left" => "PieceOfHeart",
			"Ganon's Tower - Hope Room - Right" => "BombUpgrade5",
			"Ganon's Tower - Bob's Chest" => "ThreeHundredRupees",
			"Ganon's Tower - Tile Room" => "PieceOfHeart",
			"Ganon's Tower - Compass Room - Top Left" => "BookOfMudora",
			"Ganon's Tower - Compass Room - Top Right" => "ArrowUpgrade5",
			"Ganon's Tower - Compass Room - Bottom Left" => "HalfMagic",
			"Ganon's Tower - Compass Room - Bottom Right" => "MapA2",
			"Ganon's Tower - Big Key Chest" => "KeyA2",
			"Ganon's Tower - Big Key Room - Left" => "ArrowUpgrade5",
			"Ganon's Tower - Big Key Room - Right" => "CompassA2",
			"Ganon's Tower - Mini Helmasaur Room - Left" => "FiftyRupees",
			"Ganon's Tower - Mini Helmasaur Room - Right" => "TwentyRupees",
			"Ganon's Tower - Pre-Moldorm Chest" => "BombUpgrade5",
			"Ganon's Tower - Moldorm Chest" => "ProgressiveArmor",
			"Agahnim 2" => "DefeatAgahnim2",
			"Turtle Rock Medallion" => "Quake",
			"Misery Mire Medallion" => "Bombos",
			"Waterfall Bottle" => "BottleWithGreenPotion",
			"Pyramid Bottle" => "BottleWithBee",
			"Shooting Gallery" => "Nothing",
		], $loc_item_array);
	}
}
